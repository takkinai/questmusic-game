<!DOCTYPE html>
<html lang="th">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Profile - QuestMusic</title>
  <style>
    body {
      background-color: #121212;
      color: white;
      text-align: center;
      font-family: sans-serif;
      padding: 20px;
    }
    h1 {
      color: #00ffc8;
    }
    .container {
      margin-top: 50px;
      background-color: #1f1f1f;
      padding: 20px;
      border-radius: 10px;
      display: inline-block;
    }
    button {
      padding: 10px 20px;
      background: #00ffea;
      color: black;
      border: none;
      border-radius: 5px;
      cursor: pointer;
      margin: 5px;
    }
    button:hover {
      background: #00c4b4;
    }
    table {
      width: 100%;
      border-collapse: collapse;
      margin-top: 15px;
    }
    th, td {
      border: 1px solid #00ffc8;
      padding: 8px;
    }
    th {
      background-color: #00ffc8;
      color: black;
    }
    tr:nth-child(even) {
      background-color: #1a1a1a;
    }
    tr:hover {
      background-color: #333333;
    }
  </style>
</head>
<body>

  <h1>üé∏ QuestMusic Profile</h1>

  <div class="container">
    <h2 id="username">‡∏™‡∏ß‡∏±‡∏™‡∏î‡∏µ, ...</h2>

    <table>
      <tr><th>Level</th><td id="level">-</td></tr>
      <tr><th>Score</th><td id="score">-</td></tr>
      <tr><th>Missions</th><td id="missions">-</td></tr>
      <tr><th>Correct</th><td id="correct">-</td></tr>
      <tr><th>Scales Done</th><td id="scales">-</td></tr>
      <tr><th>Last Login</th><td id="lastlogin">-</td></tr>
    </table>

    <br>
    <button onclick="goTo('leaderboard.html')">üèÜ ‡∏î‡∏π Leaderboard</button>
    <button onclick="goTo('scales.html')">üéØ ‡πÑ‡∏õ‡∏ù‡∏∂‡∏Å Scales</button>
    <button onclick="logout()">üö™ Logout</button>
  </div>

  <script>
    const user = localStorage.getItem('quest_username');
    const usernameEl = document.getElementById('username');

    if (!user) {
      alert('‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ Login! ‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏Å‡∏•‡∏±‡∏ö‡πÑ‡∏õ‡∏´‡∏ô‡πâ‡∏≤ Login...');
      window.location.href = 'login.html';
    } else {
      usernameEl.textContent = `‡∏™‡∏ß‡∏±‡∏™‡∏î‡∏µ, ${user} üé∂`;

      // üî• ‡∏î‡∏∂‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏à‡∏≥‡∏•‡∏≠‡∏á (‡πÉ‡∏ô‡∏≠‡∏ô‡∏≤‡∏Ñ‡∏ï‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏° API ‡πÑ‡∏î‡πâ)
      const dummyData = {
        level: 5,
        score: 1500,
        missions: 12,
        correct: 10,
        scales: 8,
        lastlogin: new Date().toLocaleString(),
      };

      document.getElementById('level').textContent = dummyData.level;
      document.getElementById('score').textContent = dummyData.score;
      document.getElementById('missions').textContent = dummyData.missions;
      document.getElementById('correct').textContent = dummyData.correct;
      document.getElementById('scales').textContent = dummyData.scales;
      document.getElementById('lastlogin').textContent = dummyData.lastlogin;
    }

    function goTo(page) {
      window.location.href = page;
    }

    function logout() {
      const confirmLogout = confirm('‡∏≠‡∏≠‡∏Å‡∏à‡∏≤‡∏Å‡∏£‡∏∞‡∏ö‡∏ö‡∏´‡∏£‡∏∑‡∏≠‡πÑ‡∏°‡πà?');
      if (confirmLogout) {
        localStorage.removeItem('quest_username');
        window.location.href = 'login.html';
      }
    }
  </script>

</body>
</html>
